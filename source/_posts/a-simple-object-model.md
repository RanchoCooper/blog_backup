---
title: 『译』构建基本对象模型
subtitle: A Simple Object Model
catalog: true
date: 2018-02-28 16:27:17
header-img:
tags:
---

[Origin](http://aosabook.org/en/500L/a-simple-object-model.html)
[Author](https://twitter.com/cfbolz)

Note: 本文不是严格的翻译作品, 个别地方会加入个人理解和看法. 

## 开篇
面向对象编程(OOP)是目前业内使用的一种主流编程范式, OOP也被大量现代编程语言所支持. 虽然主流编程语言给程序员提供了相似的面向对象机制, 但假若深究细节, 在实现方式其实千差万别. 主流语言的共同点在于都提供了对象和继承机制, 而类作为一种语言特性, 并不是所有语言都完美支持它. 比如广为Web开发者所知的JavaScript便是基于原型链实现的, 严格地讲, 此时并没有类这个概念, 它们的继承行为实际上都产生在对象之间. 

深入了解不同语言的对象模型其实是一件蛮有意思的事情, 这样我们可以更加细致地观察不同编程语言的相似性. 这样的经历可以帮助我们在学习新语言时, 能够更快速地上手和掌握, 并能培养良好的语言感觉.

本篇文章接下来将带你构建一套基本的对象模型, 它包括一个简单的类机器实例, 并且能通过这个实例去访问一些方法. 这就是被注入Simula67, Smalltalk等早期面相对象语言所采用的面向对象模型. 然后我们会一步步地扩展这个模型, 并展示不同语言模型的设计思路, 进而优化对象模型的性能. 本文最终得到的模型, 并非某种现代编程语言实际采用的模型, 它仅仅是一个理想的, 低配版Python对象模型.

下文描述的对象模型都是基于Python实现的, 2.7和3.4及以上版本都可以完美运行. 为了让读者能够更好地了解模型里的设计哲学, 本文也为所设计的对象模型提供了单元测试, 这些测试代码可以在[py.test](https://docs.pytest.org/en/latest)或[nose](nose.readthedocs.io/en/latest/)等测试框架运行.

Python作为对象模型的实现语言并非是最优的选择, 一般而言, 语言的虚拟机都是基于C/C++等更贴近底层的语言来实现的, 这样才能为必要的性能提供保障. 但是Python这样的动态语言, 可以把我们从繁琐的实现细节中解放出来, 让我们能够将更多精力放在模型的实际行为上.


## 基础方法模型
